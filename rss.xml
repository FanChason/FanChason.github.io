<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>Fan Chason&#39;s Blog</title>
        <link>http://example.com</link>
        <description></description>
        <language>zh-CN</language>
        <pubDate>Thu, 17 Oct 2019 19:35:00 +0800</pubDate>
        <lastBuildDate>Thu, 17 Oct 2019 19:35:00 +0800</lastBuildDate>
        <category>架构</category>
        <category>自动化打包</category>
        <category>搭建博客</category>
        <item>
            <guid isPermalink="true">http://example.com/2019/10/17/Viper%E6%9E%B6%E6%9E%84%E6%8E%A2%E7%B4%A2%E5%AE%9E%E8%B7%B5%EF%BC%88%E4%B8%80%EF%BC%89/</guid>
            <title>Viper架构探索实践（一）</title>
            <link>http://example.com/2019/10/17/Viper%E6%9E%B6%E6%9E%84%E6%8E%A2%E7%B4%A2%E5%AE%9E%E8%B7%B5%EF%BC%88%E4%B8%80%EF%BC%89/</link>
            <category>架构</category>
            <pubDate>Thu, 17 Oct 2019 19:35:00 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;viper架构图&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#viper架构图&#34;&gt;#&lt;/a&gt; Viper 架构图&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;http://upload-images.jianshu.io/upload_images/1432381-6aa65d17f5ed033f.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&#34; alt=&#34;image&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://upload-images.jianshu.io/upload_images/1432381-0b5691a0070fbabd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&#34; alt=&#34;1865432-580872920986b640.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;viper的主要部分&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#viper的主要部分&#34;&gt;#&lt;/a&gt; VIPER 的主要部分&lt;/h2&gt;
&lt;h3 id=&#34;简介&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#简介&#34;&gt;#&lt;/a&gt; 简介&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;View: (视图）： 显示 Presenter 告知的内容，并将用户输入中继回 Presenter。&lt;/li&gt;
&lt;li&gt;Interactor: (交互器）：包含用例指定的业务逻辑。&lt;/li&gt;
&lt;li&gt;Presenter: (表示层，也可称主持人）：包含用于准备显示内容（如从 Interactor 接收的）和用于对用户输入做出反应（通过从 Interactor 请求新数据）的视图逻辑。&lt;/li&gt;
&lt;li&gt;Entity: (实体）：包含 Interactor 使用的基本模型对象。&lt;/li&gt;
&lt;li&gt;Routing: (路由）：包含用于描述按哪个顺序显示哪些屏幕的导航逻辑。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;这种分离也符合&lt;a href=&#34;http://www.objectmentor.com/resources/articles/srp.pdf&#34;&gt;单一责任原则&lt;/a&gt;。&lt;br&gt;
Interactor 负责业务分析师&lt;br&gt;
 Presenter 代表交互设计师&lt;br&gt;
 View 负责视觉设计师&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;相比mvx&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#相比mvx&#34;&gt;#&lt;/a&gt; 相比 MVX&lt;/h3&gt;
&lt;p&gt;相比之前的 MVX 架构，VIPER 多出了两个东西：Interactor（交互器）和 Router（路由）。&lt;/p&gt;
&lt;p&gt;各部分职责如下：&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;- View&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;提供完整的视图，负责视图的组合、布局、更新&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;向Presenter提供更新视图的接口&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;将View相关的事件发送给Presenter&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;- Presenter&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;接收并处理来自View的事件&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;向Interactor请求调用业务逻辑&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;向Interactor提供View中的数据&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;接收并处理来自Interactor的数据回调事件&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;通知View进行更新操作&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;通过Router跳转到其他View&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;- Router&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;提供View之间的跳转功能，减少了模块间的耦合&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;初始化VIPER的各个模块&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;- Interactor&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;维护主要的业务逻辑功能，向Presenter提供现有的业务用例&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;维护、获取、更新Entity&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;当有业务相关的事件发生时，处理事件，并通知Presenter&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;- Entity&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;和Model一样的数据模型&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&#34;viper模版代码生成工具&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#viper模版代码生成工具&#34;&gt;#&lt;/a&gt; Viper 模版代码生成工具&lt;/h1&gt;
&lt;h2 id=&#34;推荐两个模版&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#推荐两个模版&#34;&gt;#&lt;/a&gt; 推荐两个模版&lt;/h2&gt;
&lt;h3 id=&#34;viperit&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#viperit&#34;&gt;#&lt;/a&gt; &lt;a href=&#34;https://github.com/ferranabello/Viperit&#34;&gt;Viperit&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;支持 Swift、SwiftUI&lt;/li&gt;
&lt;li&gt;可创建 viper 架构模版&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;generamba&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#generamba&#34;&gt;#&lt;/a&gt; &lt;a href=&#34;https://github.com/strongself/Generamba&#34;&gt;Generamba&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;支持 OC 和 Swift&lt;/li&gt;
&lt;li&gt;可以创建 mvvm、viper 模版&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;了解模版语言liquid&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#了解模版语言liquid&#34;&gt;#&lt;/a&gt; 了解模版语言 Liquid&lt;/h2&gt;
&lt;p&gt;github 源码：&lt;strong&gt;&lt;a href=&#34;https://github.com/Shopify/liquid&#34;&gt;liquid&lt;/a&gt;&lt;/strong&gt;&lt;br&gt;
&lt;a href=&#34;https://www.baidu.com/link?url=fK4IqIz8Jd_NwiiLfMbodfFYy5521QApXPJBhxB5yD_ACOge0kdPzMlm5_3B_tT9&amp;amp;wd=&amp;amp;eqid=df8a26640004378f000000045a6a8ac1&#34;&gt;&lt;em&gt;Liquid&lt;/em&gt; 模板语言中文文档&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Liquid 是一门开源的模板语言，由 &lt;a href=&#34;https://www.shopify.com/&#34;&gt;Shopify&lt;/a&gt; 创造并用 Ruby 实现。它是 Shopify 主题的骨骼，并且被用于加载店铺系统的动态内容。&lt;br&gt;&lt;br&gt;
从 2006 年起，Liquid 就被 Shopify 所使用，现在更是被大量 web 应用所使用&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;viper架构实践&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#viper架构实践&#34;&gt;#&lt;/a&gt; Viper 架构实践&lt;/h1&gt;
&lt;p&gt;基于 Viperit 写了一个简单的新闻的 demo&lt;br&gt;
&lt;strong&gt;&lt;a href=&#34;https://github.com/FanChason/XCViperitDemo&#34;&gt;XCViperitDemo&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&#34;参考&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#参考&#34;&gt;#&lt;/a&gt; 参考：&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;viper 原作者 By &lt;a href=&#34;mailto:jeff.gilbert@mutualmobile.com&#34;&gt;Jeff Gilbert&lt;/a&gt; and &lt;a href=&#34;https://twitter.com/conradstoll&#34;&gt;Conrad Stoll&lt;/a&gt; 著&lt;br&gt;
&lt;a href=&#34;https://www.objc.io/issues/13-architecture/viper/&#34;&gt; Architecting iOS Apps with VIPER&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://juejin.im/post/599a43035188252432172045&#34;&gt;iOS VIPER 架构实践 (二)：VIPER 详解与实现&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.jianshu.com/p/340b39c6d256&#34;&gt;iOS 架构模式 - VIPER&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://example.com/2019/10/11/%E4%BD%BF%E7%94%A8fastlane%E5%AE%9E%E7%8E%B0iOS%E8%87%AA%E5%8A%A8%E5%8C%96%E6%89%93%E5%8C%85%E4%B8%8A%E4%BC%A0fir-im%E5%92%8Ctestflight/</guid>
            <title>使用fastlane实现iOS自动化打包上传fir.im和testflight</title>
            <link>http://example.com/2019/10/11/%E4%BD%BF%E7%94%A8fastlane%E5%AE%9E%E7%8E%B0iOS%E8%87%AA%E5%8A%A8%E5%8C%96%E6%89%93%E5%8C%85%E4%B8%8A%E4%BC%A0fir-im%E5%92%8Ctestflight/</link>
            <category>自动化打包</category>
            <pubDate>Fri, 11 Oct 2019 16:41:33 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;前言&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#前言&#34;&gt;#&lt;/a&gt; 前言&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;日复一日重复打包工作，是在浪费宝贵的时间&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;自动化打包工具应运而生，是我们解放双手的利器&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.fastlane.tools/&#34;&gt;fastlane 官方文档&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/fastlane/fastlane/tree/master/fastlane/docs#fastfile&#34;&gt;github 地址&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;安装fastlane&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#安装fastlane&#34;&gt;#&lt;/a&gt; 安装 fastlane&lt;/h2&gt;
&lt;h3 id=&#34;安装最新的xcode命令行工具&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#安装最新的xcode命令行工具&#34;&gt;#&lt;/a&gt; 安装最新的 Xcode 命令行工具&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;可以&lt;a href=&#34;https://developer.apple.com/download/more/&#34;&gt; Developer Apple&lt;/a&gt; 上手动下载对应的 &lt;code&gt;Command Line Tools&lt;/code&gt;  安装&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;fastlane 官方推荐的 &lt;code&gt;xcode-select --install&lt;/code&gt;  安装时最后结果是&lt;strong&gt;不能安装该软件&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;安装-fastlane&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#安装-fastlane&#34;&gt;#&lt;/a&gt; 安装 fastlane&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;放到 &lt;code&gt;/usr/local/bin&lt;/code&gt;  下面&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo gem install -n /usr/local/bin fastlane&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;其他的安装方法：（扩展，可跳过）&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;1970838-d07d8f2b55853319.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;第一种是通过 Homebrew 软件包管理器来进行安装，&lt;br&gt;第二种就是我们最熟悉的方式，下载安装包来进行安装，&lt;br&gt;第三种是通过 RubyGems 来进行，RubyGems 是一个方便的 Ruby 程序包管理器，可以将一个 Ruby 应用程序打包到一个 Gem 里，作为一个安装单元。 一个  Gem 就是一个封装起来的应用程序或代码库&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;配置环境变量&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#配置环境变量&#34;&gt;#&lt;/a&gt; 配置环境变量&lt;/h2&gt;
&lt;p&gt;添加用户环境变量&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vim ~/.bash_profile&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;添加&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;export PATH&amp;#x3D;&amp;#x2F;usr&amp;#x2F;local&amp;#x2F;bin:$PATH&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;保存退出，使用  &lt;code&gt;source ~/.bash_profile&lt;/code&gt;  来使配置立即生效&lt;/p&gt;
&lt;p&gt;现在在项目根目录下可以使用 &lt;code&gt;fastlane&lt;/code&gt;  了&lt;/p&gt;
&lt;h2 id=&#34;fastlane使用&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#fastlane使用&#34;&gt;#&lt;/a&gt; fastlane 使用&lt;/h2&gt;
&lt;h3 id=&#34;在项目根目录下初始化&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#在项目根目录下初始化&#34;&gt;#&lt;/a&gt; 在项目根目录下初始化&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;fastlane init&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;四个选项&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;What would you like to use fastlane for?&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1.Automate screenshots&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2.Automate beta distribution to TestFlight&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3.Automate App Store distribution&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4.Manual setup - manually setup your project to automate your tasks&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;解释：&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1 自动截屏。（帮助我们截取App的显示到appstore上的 截图）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2 自动发布beta到TestFlight上，用于内测。&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3 自动打包发布到AppStore上。&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4 手动设置。&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;上传 fir 选择的 4&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;初始化成功会生成如下目录&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;Xnip2019-10-09_14-40-37.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;配置相关文件&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#配置相关文件&#34;&gt;#&lt;/a&gt; 配置相关文件&lt;/h3&gt;
&lt;h4 id=&#34;配置gemfile&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#配置gemfile&#34;&gt;#&lt;/a&gt; 配置 Gemfile&lt;/h4&gt;
&lt;p&gt;如果使用 cocoapods 要加上（&lt;em&gt;注意带上当前安装的 pod 的版本号&lt;/em&gt;，否则会报错）&lt;/p&gt;
&lt;p&gt;&lt;code&gt;gem &#39;cocoapods&#39;, &#39;~&amp;gt;1.8.3&#39;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;执行&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bundle install&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;第一次运行 bundle install 时自动生成 Gemfile.lock 文件。以后每次运行 bundle install 时，如果 Gemfile 中的条目不变 bundle 就不会再次计算 gem 依赖版本号，直接根据 Gemfile.lock 检查和安装 gem。如果出现依赖冲突时可以通过 bundle update 更新 Gemfile.lock&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;配置fastfile&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#配置fastfile&#34;&gt;#&lt;/a&gt; 配置 Fastfile&lt;/h4&gt;
&lt;figure class=&#34;highlight ruby&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;def&lt;/span&gt;&lt;span class=&#34;title&#34;&gt;ault_platform&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;symbol&#34;&gt;:ios&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;platform &lt;span class=&#34;symbol&#34;&gt;:ios&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  	before_all &lt;span class=&#34;keyword&#34;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    	&lt;span class=&#34;comment&#34;&gt;# 如果你用 pod install&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    	cocoapods &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  	&lt;span class=&#34;keyword&#34;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  	desc &lt;span class=&#34;string&#34;&gt;&amp;quot;打包上传ipa到fir.im&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  	lane &lt;span class=&#34;symbol&#34;&gt;:fir&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  	&lt;span class=&#34;comment&#34;&gt;# 如果你没有申请adhoc证书，sigh会自动帮你申请，并且添加到Xcode里&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  	&lt;span class=&#34;comment&#34;&gt;#	sigh(adhoc: true)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  	&lt;span class=&#34;comment&#34;&gt;# 以下两个action来自fastlane-plugin-versioning，&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  	&lt;span class=&#34;comment&#34;&gt;# 第一个递增 Build，第二个设定Version。&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  	&lt;span class=&#34;comment&#34;&gt;# 如果你有多个target，就必须指定target的值，否则它会直接找找到的第一个plist修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  	&lt;span class=&#34;comment&#34;&gt;# 在这里我建议每一个打的包的Build都要不一样，这样crash了拿到日志，可以对应到ipa上&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    increment_build_number_in_plist(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;target:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;TestDemo&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 				&lt;span class=&#34;symbol&#34;&gt;build_number:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;5&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    )&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    increment_version_number_in_plist(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;target:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;TestDemo&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;version_number:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;1.0&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    )&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;# gym用来编译ipa&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    gym(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;scheme:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;TestDemo&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;export_method:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;ad-hoc&amp;quot;&lt;/span&gt;, &lt;span class=&#34;comment&#34;&gt;# 指定打包方式 [&amp;quot;app-store&amp;quot;, &amp;quot;ad-hoc&amp;quot;, &amp;quot;package&amp;quot;, &amp;quot;enterprise&amp;quot;, &amp;quot;development&amp;quot;, &amp;quot;developer-id&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;#teamID: &amp;quot;xxxxxx&amp;quot;,  # developer.apple.com 上查看&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;xcargs:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;-allowProvisioningUpdates&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;output_directory:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;./firim&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;output_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;TestDemo.ipa&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    )&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;# 上传ipa到fir.im服务器，在fir.im获取firim_api_token&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    firim(&lt;span class=&#34;symbol&#34;&gt;firim_api_token:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;xxxxxxxxxxxxx&amp;quot;&lt;/span&gt;)  &lt;span class=&#34;comment&#34;&gt;# token 在fir 上查看。&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  desc &lt;span class=&#34;string&#34;&gt;&amp;quot;打包上传testflight/app-store&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  lane &lt;span class=&#34;symbol&#34;&gt;:tf&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;do&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    increment_build_number_in_plist(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;target:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;TestDemo&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    )&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    increment_version_number_in_plist(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;target:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;TestDemo&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;version_number:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;1.0&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    )&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;# gym用来编译ipa&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    gym(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;scheme:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;TestDemo&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;export_method:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;app-store&amp;quot;&lt;/span&gt;, &lt;span class=&#34;comment&#34;&gt;# 指定打包方式&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;#teamID: &amp;quot;xxxxxx&amp;quot;,  # developer.apple.com 上查看&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;xcargs:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;-allowProvisioningUpdates&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;output_directory:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;./testflight&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;symbol&#34;&gt;output_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;TestDemo.ipa&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    )&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;#upload_to_testflight&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    appstore       &lt;span class=&#34;comment&#34;&gt;# 上传你的App iTunes Connect&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;关于 build_number 与 version_number&lt;/p&gt;
&lt;p&gt;1,version_number、build_number 都没有设置，会自动获取项目的 version 和 build 版本号，并且都自动加 1。例如，fastlane 打包前后版本号变化：ver1.0.2（Build 11）-&amp;gt; ver1.0.3（Build 12）；&lt;br&gt;
2,version_number 设置了、build_number 没设置，会自动获取项目 build 版本号，build 版本号 + 1；&lt;br&gt;
3,version_number、build_number 都设置了，那打包出来的版本号就是设置的版本号，不会自动 + 1；&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;添加两个插件&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#添加两个插件&#34;&gt;#&lt;/a&gt; 添加两个插件&lt;/h4&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;fastlane add_plugin versioning&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;fastlane add_plugin firim&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;执行打包&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#执行打包&#34;&gt;#&lt;/a&gt; 执行打包&lt;/h3&gt;
&lt;h4 id=&#34;上传firim&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#上传firim&#34;&gt;#&lt;/a&gt; &lt;a href=&#34;http://xn--fir-u28ds3c.im&#34;&gt;上传 fir.im&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;fastlane fir&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;fir&lt;/code&gt;  为 Fastfile 文件中 &lt;code&gt;lane :fir do&lt;/code&gt;  处设置的名字，可以为别的名字&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;执行打包成功如下图所示：&lt;/p&gt;
&lt;img src=&#34;Xnip2019-10-10_15-01-27.jpg&#34; style=&#34;zoom:5%&#34; /&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;根目录下 &lt;code&gt;firim&lt;/code&gt;  文件夹下可看到 &lt;code&gt;ipa&lt;/code&gt;  文件&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;Xnip2019-10-10_15-22-43.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;fir.im 应用列表，多了刚上传的项目&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;Xnip2019-10-10_15-01-59.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;上传testflight&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#上传testflight&#34;&gt;#&lt;/a&gt; 上传 testFlight&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;fastlane tf&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;问题&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#问题&#34;&gt;#&lt;/a&gt; 问题&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Could not find action, lane or variable ‘increment_build_number_in_plist’…&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;Xnip2019-10-10_11-39-52.jpg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;解决：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fastlane add_plugin versioning&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;参考：&lt;a href=&#34;https://github.com/SiarheiFedartsou/fastlane-plugin-versioning/issues/20&#34;&gt;https://github.com/SiarheiFedartsou/fastlane-plugin-versioning/issues/20&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;参考&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#参考&#34;&gt;#&lt;/a&gt; 参考&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://www.jianshu.com/p/2918cf082b9d&#34;&gt;fastlane 自动打包到 fir.im 的踩坑之路&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.fastlane.tools/getting-started/ios/setup/&#34;&gt;fastlane ios 快读入门文档&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.jianshu.com/p/19ae8cc865b0&#34;&gt;fastlane 使用说明书&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.jianshu.com/p/48343a655f75&#34;&gt;fastlane 在 mac 上配置 iOS 自动化上架&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.jianshu.com/p/eab3e1ded17d&#34;&gt;iOS 自动打包 - fastlane （一）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://juejin.im/post/5a7d51986fb9a063435ece35&#34;&gt;和重复劳动说再见 - 使用 fastlane 进行 iOS 打包&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/25976099&#34;&gt;macOS/Linux 环境变量设置&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://example.com/2019/09/26/%E5%9F%BA%E4%BA%8EHexo%E5%92%8CGithub%E6%90%AD%E5%BB%BA%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/</guid>
            <title>基于Hexo和Github搭建技术博客</title>
            <link>http://example.com/2019/09/26/%E5%9F%BA%E4%BA%8EHexo%E5%92%8CGithub%E6%90%AD%E5%BB%BA%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/</link>
            <category>搭建博客</category>
            <pubDate>Thu, 26 Sep 2019 14:40:33 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;准备&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#准备&#34;&gt;#&lt;/a&gt; 准备:&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;nodejs&lt;/code&gt; 、 &lt;code&gt;git&lt;/code&gt; 、 &lt;code&gt;npm&lt;/code&gt; 、 &lt;code&gt;hexo&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;验证有没有敲命令，eg:  &lt;code&gt;npm -v&lt;/code&gt; ，没有装先去装&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;npm 可通过 homebrew 安装&lt;/p&gt;
&lt;p&gt;&lt;code&gt;brew install npm&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Hexo 安装&lt;/p&gt;
&lt;p&gt;&lt;code&gt;npm install hexo-cli -g&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;开始搭建博客&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#开始搭建博客&#34;&gt;#&lt;/a&gt; 开始搭建博客&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;本地创建一个存放博客文件夹&lt;/p&gt;
&lt;p&gt;eg: SkytechMobileBlog&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;切到 &lt;code&gt;SkytechMobileBlog&lt;/code&gt;  目录下执行 &lt;code&gt;初始化&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hexo init&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;然后安装依赖&lt;/p&gt;
&lt;p&gt;&lt;code&gt;npm install&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;生成静态文件&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hexo g&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;创建服务&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hexo s&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;hexo 常用命令：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hexo init&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;初始化一个文件夹，它会为这个文件夹配置所有骨架&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hexo g&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;即 hexo generate，生成静态文件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hexo s&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;即 hexo server，创建服务&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hexo d&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;即 hexo deploy, 用于将本地文件发布到 github 上&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hexo n&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;即 hexo new, 用于新建一篇文章&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;现在只是在本地搭建了一个技术博客，&lt;/p&gt;
&lt;p&gt;要想把博客内容让所有人都能看到，就得借助 Github 了，把博客内容部署到 Github 上去&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;a id=&#34;more&#34;&gt;&lt;/a&gt;
&lt;h2 id=&#34;部署到github&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#部署到github&#34;&gt;#&lt;/a&gt; 部署到 github&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;GitHub 上登录 / 注册一个账号，创建仓库&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如果是团队博客&lt;/p&gt;
&lt;p&gt;先 &lt;code&gt;New organization&lt;/code&gt; ，再 &lt;code&gt;New repository&lt;/code&gt; （名字为 &lt;code&gt;xxx.github.io&lt;/code&gt; ， &lt;code&gt;xxx&lt;/code&gt;  为 organization 名称）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果是个人博客：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;New repository&lt;/code&gt; （名字为 &lt;code&gt;xxx.github.io&lt;/code&gt; ， &lt;code&gt;xxx&lt;/code&gt;  为 github 账号）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;博客的根目录的 &lt;code&gt;_config.yml&lt;/code&gt;  文件的底部 &lt;code&gt;deploy&lt;/code&gt;  设置为：&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;deploy:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  type: git&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  repository: https:&amp;#x2F;&amp;#x2F;github.com&amp;#x2F;SkytechMobile&amp;#x2F;SkytechMobile.github.io.git&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  branch: master&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;注意：冒号（:）后都有一个空格。你可以把此段代码复制过去，并把 &lt;code&gt;https://github.com/SkytechMobile/SkytechMobile.github.io.git&lt;/code&gt;  替换为你自己的 Github 仓库路径&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;
&lt;p&gt;部署&lt;/p&gt;
&lt;p&gt;根目录下执行&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hexo g&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hexo d&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;或者直接&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hexo g -d&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如果此时报错你可以输入 &lt;code&gt;npm install hexo-deployer-git --save&lt;/code&gt;  来解决&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;以上都没什么问题的话，访 &lt;a href=&#34;http://SkytechMobile.github.io/&#34;&gt;http://SkytechMobile.github.io/&lt;/a&gt; 就能看到自己的博客了&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;主题配置&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#主题配置&#34;&gt;#&lt;/a&gt; 主题配置&lt;/h2&gt;
&lt;p&gt;Eg: 把主题设置为 &lt;code&gt;next&lt;/code&gt; ，最火的 hexo 的主题。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;下载主题&lt;/p&gt;
&lt;p&gt;在跟目录文件夹下输入如下命令下载 next 主题&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git clone https://github.com/iissnan/hexo-theme-next themes/next&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;设置主题&lt;/p&gt;
&lt;p&gt;把 &lt;code&gt;SKytechMobileBlog/_config.yml&lt;/code&gt;  文件称为 &lt;code&gt;站点配置&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;把 &lt;code&gt;SKytechMobileBlog/_config.yml&lt;/code&gt;  文件称为 &lt;code&gt;主题配置&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;下载完成后，将 &lt;code&gt;站点配置&lt;/code&gt; 文件的 &lt;code&gt;theme&lt;/code&gt;  字段的值改为 &lt;code&gt;next&lt;/code&gt; ，重新编译并上传到 Github 上后，访问博客链接，你就会发现主题已经改成 next 了&lt;/p&gt;
&lt;p&gt;next 的默认语言为英文，你可以更改为简体中文，找到并打开 &lt;code&gt;站点配置&lt;/code&gt; 文件，找到 &lt;code&gt;language&lt;/code&gt;  字段，将值改为 &lt;code&gt;zh-Hans&lt;/code&gt;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;这里介绍下 &lt;code&gt;站点配置&lt;/code&gt; 文件部分字段的含义：&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;title: SkytechMobile团队博客 &amp;#x2F;&amp;#x2F; 博客名称&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;subtitle:			   &amp;#x2F;&amp;#x2F; 博客副名称&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;description:           &amp;#x2F;&amp;#x2F; 描述&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;author: 晨之科SDK团队    &amp;#x2F;&amp;#x2F; 作者&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;language: zh-Hans      &amp;#x2F;&amp;#x2F; 语言&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;关于新建博客&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#关于新建博客&#34;&gt;#&lt;/a&gt; 关于新建博客&lt;/h2&gt;
&lt;h3 id=&#34;一-如何新建博客&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#一-如何新建博客&#34;&gt;#&lt;/a&gt; 一、如何新建博客&lt;/h3&gt;
&lt;p&gt;新建命令&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hexo new xxx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;执行上面的命令即在 &lt;code&gt;source/_posts/&lt;/code&gt;  目录下新建了名为 &lt;code&gt;xxx的md文件&lt;/code&gt; 和 &lt;code&gt;资源文件夹&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;二-将本地博客发布到线上&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#二-将本地博客发布到线上&#34;&gt;#&lt;/a&gt; 二、将本地博客发布到线上&lt;/h3&gt;
&lt;p&gt;生成静态文件，并将本地文件发布到 github 上，合并执行&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hexo g -d&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;三-写博客注意点&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#三-写博客注意点&#34;&gt;#&lt;/a&gt; 三、写博客注意点&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;如何上传带图片的博客？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;useImage.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;
&lt;p&gt;团队博客设置作者&lt;/p&gt;
&lt;p&gt;可在博客 md 文件 &lt;code&gt;分类&lt;/code&gt; 字段设置&lt;/p&gt;
&lt;p&gt;&lt;code&gt;categories：作者：Fan Chason&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;common_on.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
